<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />

    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; connect-src *; style-src * 'unsafe-inline'; script-src *; img-src 'self' data:;"
    />

    <title>Clinic Automation App</title>
    <!-- Include Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="patientEntry.css" />
    <link rel="stylesheet" type="text/css" href="../index.css" />
  </head>
  <body>
    <div class="container h-100 p-3">
      <!-- Spinner -->
      <div id="loginSpinner" class="d-none">
        <div class="spinner-border" role="status"></div>
      </div>

      <!-- Form with Patient Names Dropdown -->
      <form id="patientNameForm">
        <!-- Autocomplete Text Field for Patient Names -->
        <input
          type="text"
          class="form-control"
          id="ptName"
          placeholder="Enter patient name"
          required
        />

        <!-- Text Field for Number of Notes -->
        <input
          type="number"
          class="form-control mt-2"
          id="numOfNotes"
          placeholder="Number of notes"
          required
        />

        <!-- Process Log -->
        <h5 class="text-center mt-3">Process Log</h5>
        <div class="log-container" id="processLog">
          <!-- Log messages will be appended here -->

          <!-- Progress bar, initially hidden -->
          <div class="m-2 d-none" id="progressBarContainer">
            <div
              class="progress"
              role="progressbar"
              aria-valuenow="0"
              aria-valuemin="0"
              aria-valuemax="100"
              style="height: 30px"
            >
              <div class="progress-bar bg-success" id="progressBar">0%</div>
            </div>
          </div>
        </div>

        <!-- Buttons -->
        <div class="button-container">
          <button type="submit" id="submitBtn" class="btn btn-primary">
            Submit
          </button>
          <button type="reset" class="btn btn-danger">Reset</button>
        </div>
      </form>
    </div>

    <!-- Connection Status Indicator -->
    <div id="connectionStatus" class="connection-status">
      <span id="statusDot" class="status-dot offline"></span>
      <span id="statusText">Offline</span>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"
      integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0="
      crossorigin="anonymous"
    ></script>
    <script src="../websocketManager.js"></script>
    <script src="patientEntry.js"></script>
  </body>
</html>
